{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\priya kumari\\\\Desktop\\\\house rent app\\\\frontend\\\\frontend\\\\src\\\\modules\\\\user\\\\Owner\\\\AllBookings.jsx\",\n  _s = $RefreshSig$();\nimport { message } from 'antd';\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport { Button } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AllProperty = () => {\n  _s();\n  const [allBookings, setAllBookings] = useState([]);\n  const getAllProperty = async () => {\n    try {\n      const response = await axios.get('http://localhost:8001/api/owner/getallbookings', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      if (response.data.success) {\n        setAllBookings(response.data.data);\n      } else {\n        message.error(response.data.message);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    getAllProperty();\n  }, []);\n  const handleStatus = async (bookingId, propertyId, status) => {\n    try {\n      const res = await axios.post('http://localhost:8001/api/owner/handlebookingstatus', {\n        bookingId,\n        propertyId,\n        status\n      }, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      if (res.data.success) {\n        message.success(res.data.message);\n        getAllProperty();\n      } else {\n        message.error('Something went wrong');\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        sx: {\n          minWidth: 650\n        },\n        \"aria-label\": \"simple table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Booking ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 22\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Property ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 22\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Tenent Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 22\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Tenent Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 22\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Booking Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 22\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 22\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: allBookings.map(booking => /*#__PURE__*/_jsxDEV(TableRow, {\n            sx: {\n              '&:last-child td, &:last-child th': {\n                border: 0\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              component: \"th\",\n              scope: \"row\",\n              children: booking._id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: booking.propertyId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: booking.userName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: booking.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: booking.bookingStatus\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: (booking === null || booking === void 0 ? void 0 : booking.bookingStatus) === \"pending\" ? /*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => handleStatus(booking._id, booking.propertyId, 'booked'),\n                variant: \"outline-success\",\n                children: \"Change\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 70\n              }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => handleStatus(booking._id, booking.propertyId, 'pending'),\n                variant: \"outline-danger\",\n                children: \"Change\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 194\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 25\n            }, this)]\n          }, booking._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 22\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 7\n  }, this);\n};\n_s(AllProperty, \"/uCgjwClKqWFEDu92I34HXdSAgk=\");\n_c = AllProperty;\nexport default AllProperty;\nvar _c;\n$RefreshReg$(_c, \"AllProperty\");","map":{"version":3,"names":["message","React","useState","useEffect","axios","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","jsxDEV","_jsxDEV","AllProperty","_s","allBookings","setAllBookings","getAllProperty","response","get","headers","localStorage","getItem","data","success","error","console","log","handleStatus","bookingId","propertyId","status","res","post","children","component","sx","minWidth","fileName","_jsxFileName","lineNumber","columnNumber","align","map","booking","border","scope","_id","userName","phone","bookingStatus","onClick","variant","_c","$RefreshReg$"],"sources":["C:/Users/priya kumari/Desktop/house rent app/frontend/frontend/src/modules/user/Owner/AllBookings.jsx"],"sourcesContent":["import { message } from 'antd';\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport { Button } from 'react-bootstrap';\n\nconst AllProperty = () => {\n   const [allBookings, setAllBookings] = useState([]);\n\n   const getAllProperty = async () => {\n      try {\n         const response = await axios.get('http://localhost:8001/api/owner/getallbookings', {\n            headers: { 'Authorization': `Bearer ${localStorage.getItem(\"token\")}` }\n         });\n         if (response.data.success) {\n            setAllBookings(response.data.data);\n         } else {\n            message.error(response.data.message);\n         }\n      } catch (error) {\n         console.log(error);\n      }\n   };\n\n   useEffect(() => {\n      getAllProperty();\n   }, []);\n\n   const handleStatus = async (bookingId, propertyId, status) => {\n      try {\n         const res = await axios.post('http://localhost:8001/api/owner/handlebookingstatus', { bookingId, propertyId, status }, {\n            headers: { 'Authorization': `Bearer ${localStorage.getItem(\"token\")}` }\n         })\n         if (res.data.success) {\n            message.success(res.data.message)\n            getAllProperty()\n         }\n         else {\n            message.error('Something went wrong')\n         }\n      } catch (error) {\n         console.log(error);\n      }\n   }\n\n   return (\n      <div>\n         <TableContainer component={Paper}>\n            <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n               <TableHead>\n                  <TableRow>\n                     <TableCell>Booking ID</TableCell>\n                     <TableCell align=\"center\">Property ID</TableCell>\n                     <TableCell align=\"center\">Tenent Name</TableCell>\n                     <TableCell align=\"center\">Tenent Phone</TableCell>\n                     <TableCell align=\"center\">Booking Status</TableCell>\n                     <TableCell align=\"center\">Actions</TableCell>\n                  </TableRow>\n               </TableHead>\n               <TableBody>\n                  {allBookings.map((booking) => (\n                     <TableRow\n                        key={booking._id}\n                        sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                     >\n                        <TableCell component=\"th\" scope=\"row\">\n                           {booking._id}\n                        </TableCell>\n                        <TableCell align=\"center\">{booking.propertyId}</TableCell>\n                        <TableCell align=\"center\">{booking.userName}</TableCell>\n                        <TableCell align=\"center\">{booking.phone}</TableCell>\n                        <TableCell align=\"center\">{booking.bookingStatus}</TableCell>\n                        <TableCell align=\"center\">\n                           {\n                              booking?.bookingStatus === \"pending\" ? <Button onClick={() => handleStatus(booking._id, booking.propertyId, 'booked')} variant='outline-success'>Change</Button> : <Button onClick={() => handleStatus(booking._id, booking.propertyId, 'pending')} variant='outline-danger'>Change</Button>\n                           }\n                        </TableCell>\n                     </TableRow>\n                  ))}\n               </TableBody>\n            </Table>\n         </TableContainer>\n      </div>\n   );\n};\n\nexport default AllProperty;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}